"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.makeRuntime = void 0;
const adapter_1 = require("./parallel/adapter");
const adapter_2 = require("./serial/adapter");
const coordinator_1 = require("./coordinator");
async function makeRuntime({ environment, logger, eventBroadcaster, sourcedPickles, newId, supportCodeLibrary, options, }) {
    const adapter = options.parallel > 0
        ? new adapter_1.ChildProcessAdapter(environment, logger, eventBroadcaster, options, supportCodeLibrary)
        : new adapter_2.InProcessAdapter(eventBroadcaster, newId, options, supportCodeLibrary);
    return new coordinator_1.Coordinator(eventBroadcaster, newId, sourcedPickles, supportCodeLibrary, adapter);
}
exports.makeRuntime = makeRuntime;
//# sourceMappingURL=make_runtime.js.map